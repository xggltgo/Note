# 配置文件

webpack 提供的 cli 支持很多的参数，例如```--mode```，但更多的时候，我们会使用更加灵活的配置文件来控制 webpack 的行为

默认情况下，webpack 会读取```webpack.config.js```文件作为配置文件，但也可以通过CLI参数```--config```来指定某个配置文件

配置文件中通过 CommonJS 模块导出一个对象，对象中的各种属性对应不同的 webpack 配置

**注意：配置文件中的代码，必须是有效的node代码**

当命令行参数与配置文件中的配置出现冲突时，以命令行参数为准。

**基本配置：**

1. mode：编译模式，字符串，取值为 development 或 production ，指定编译结果代码运行的环境，会影响 webpack 对编译结果代码格式的处理
2. entry：入口，字符串（后续会详细讲解），指定入口文件
3. output：出口，对象（后续会详细讲解），指定编译结果文件

```js
module.exports = {
  mode: 'development',
  entry: './src/main.js',
  output: {
    filename: 'boundle.js',
  },
};
```

## 思考

> webpack 支持多种模块化标准，那为什么 webpack 配置文件只能使用 commonjs 导出，而不能使用 es module 导出？
>
> 1. 所谓的 webpack 支持多种模块化标准，是指我们在开发时可以书写不同模块化标准的导入导出语句，这些导入导出语句仅供 webpack 用于分析依赖关系，**这类代码在打包过程中并不会运行**。最终，在webpack的打包结果中，模块化语句不复存在，webpack使用普通函数实现了相同的功能。
> 2. 而 **webpack 配置文件在打包过程中是会参与运行的**，又由于 webpack 是基于 nodejs 环境，因此只能使用 commonjs 导出。
