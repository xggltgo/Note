详见vue-cli官网[模式和环境变量](https://cli.vuejs.org/zh/guide/mode-and-env.html#%E6%A8%A1%E5%BC%8F%E5%92%8C%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F)

![image-20210323133209659](http://mdrs.yuanjin.tech/img/20210323133209.png)

![image-20210323134742034](http://mdrs.yuanjin.tech/img/20210323134742.png)

vue-cli在打包时，会将process.env.XXX进行替换

> process是node中的，浏览器中并不存在process，但是我们在vue-cli中能够使用process.env.NODE_ENV === ‘development’ 或者 ‘production’ 进行在不同的环境中匹配不同的内容是因为vue-cli在打包时，直接把process.env.NODE_ENV进行了替换 最终判断的是 ‘development’ == ‘development’ 所以能够匹配正确的内容。
>
> vue-cli内部是通过webpack.definePlugin 进行处理的

关于环境变量如何定义：

1. 首先读取当前机器的环境变量
2. 读取.env文件（可在我们工程根目录下创建这样一个文件）

```js
//.env（该文件无论是开发环境还是生产环境都会被读取）
NODE_ENV //vue-cli 内部自行控制 最好不要修改它 开发环境替换为'development'，生产环境替换为'production'
BASE_URL //表示网站静态资源部署的基地址 最好不要修改 默认 /
VUE_APP_ABC = 1 //其余普通的环境变量需要写为这种格式，打包时才会被替换
```

```js
//.env.development（此文件只有开发环境才会被读取）
VUE_APP_BCD = dev123
VUE_APP_SERVERBASE = http://www.test.com
```

```js
//.env.production （此文件只有生产环境才会被读取）
VUE_APP_BCD = pro123 
VUE_APP_SERVERBASE = http://www.real.com
```

```js
//xx.js
console.log('VUE_APP_ABC',process.env.VUE_APP_ABC)
console.log('VUE_APP_BCD',process.env.VUE_APP_BCD)
```



