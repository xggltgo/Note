# 手写bindActionCreators

**核心思想**

**返回一个增强的action创建函数，action创建后会自动分发该action**

无论传递的是一个对象（该对象每个属性是action创建函数），

还是一个action创建函数

其核心思想都是返回一个增强的action创建函数

```js
/**
 * 函数就收actionCreator、dispatch两个参数，返回一个新的对象
 * 新的对象解构与actionCreator保持一致
 * 调用新对象中的方法，会先创建一个action，然后自动分发（dispatch）该action
 * @param {Object or Function} actionCreator 该对象中每个属性是action创建函数 或者 单独传递一个action创建函数
 * @param {*} dispatch store.dispatch 分发action的方法
 */
export default function (actionCreator, dispatch) {
  if (typeof actionCreator === 'function') {
    return function (...rest) {
      const action = actionCreator(...rest);
      dispatch(action);
    };
  } else if (typeof actionCreator === 'object') {
    let bindActionCreators = {};
    for (const key in actionCreator) {
      const singleActionCreator = actionCreator[key];
      if (typeof singleActionCreator === 'function') {
        bindActionCreators[key] = (...rest) => {
          const action = singleActionCreator(...rest);
          dispatch(action);
        };
      }
    }
    return bindActionCreators;
  } else {
    throw new TypeError(
      'actionCreators must be an object or function which means action creator'
    );
  }
}
```

