# 学生管理系统 - 简易版

**注意：**

> 关于刷新页面导致redux仓库登录用户信息丢失的处理办法：
>
> - 在设置登录用户信息时，同时保存一份到localstorage或者sessionStorage
> - 刷新页面时，如果本地存储中有登录的用户信息，则同步到仓库
> - 依赖模型中的subscriptions配置，注册一个同步函数



> 关于权限路由，即登录后才能访问的页面
>
> - 配置Routes代码注释
>
>   ```js
>   /**
>    * Routes:
>    *  - ./src/routes/Validate.js
>    */
>   ```
>
> - **Validate.js:连接仓库用户登录信息状态，已登录正常渲染，未登录跳转到登录页面**
>
>   ```js
>   import { connect } from 'dva';
>   import { routerRedux } from 'dva/router';
>   
>   function Validate(props) {
>     if (props.userInfo.id) {
>       return props.children;
>     } else {
>       props.onRedirect && props.onRedirect();
>       return null;
>     }
>   }
>   
>   const mapStateToProps = (state) => ({
>     userInfo: state.userInfo,
>   });
>   
>   const mapDispatchToProps = (dispatch) => ({
>     onRedirect() {
>       dispatch(routerRedux.push('/login'));
>     },
>   });
>   
>   export default connect(
>     mapStateToProps,
>     mapDispatchToProps
>   )(Validate);
>   ```



> 关于更好的分享页面，同步仓库数据到地址栏参数
>
> 同时，监听地址栏改变，改变后同步到仓库



页面：

- 登录页
  - 账号
  - 密码
  - 如果账号为admin，密码为123123，则表示登录成功
- 电影管理
  - 首页：电影列表
  - 修改页：无功能，显示修改的学生id即可
- 通用模板
  - 顶部导航栏
  - 右边是菜单栏


功能点实现：

- api及代理：ok
- 页面  ok
  - /   欢迎页
  - /student    学生管理首页（列表，查询，删除）
  - /student/:id    修改学生页
  - /login      登录页